<!DOCTYPE html>
<!--
    Copyright (C) 2015-2018 Sumandeep Banerjee
    This program is free software: you can redistribute it and/or modify
    it under the terms of the GNU Affero General Public License as published
    by the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.
    This program is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU Affero General Public License for more details.
    You should have received a copy of the GNU Affero General Public License
    along with this program.  If not, see <http://www.gnu.org/licenses/>.
-->
<!--
    Prometheus: Online Tutorial Portal
    Author: sumandeep.banerjee@gmail.com
-->
<div ng-controller="TutorialController">
    <nav class="navbar navbar-default navbar-fixed-top">
        <div class="container">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header page-scroll">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="#!/">Prometheus</a>
            </div>

            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                <ul class="nav navbar-nav navbar-right">
                    <li class="page-scroll" data-ng-show="!authentication.user">
                        <a href="/login">Login</a>
                    </li>
                    <li class="page-scroll" data-ng-show="!authentication.user">
                        <a href="/register">Register</a>
                    </li>
                    <li class="page-scroll" data-ng-show="authentication.user">
                        <a href="/#!/tutorial">Tutorial</a>
                    </li>
                    <li class="page-scroll" data-ng-show="authentication.user">
                        <a href="/#!/tutorial/list">List</a>
                    </li>
                    <li class="page-scroll" data-ng-show="authentication.user">
                        <a href="/logout">Hello <span data-ng-bind="authentication.user.username" data-ng-show="authentication.user"></span>,
                            Logout?</a>
                    </li>
                </ul>
            </div>
            <!-- /.navbar-collapse -->
        </div>
        <!-- /.container-fluid -->
    </nav>

    <section class="success" data-ng-show="authentication.user && (authentication.user.permission === 'admin'  || authentication.user.permission === 'editor')">
        <div class="container">
            <div>
                <span class="err" data-ng-show="errorMsg">{{errorMsg}}</span>
            </div>
            <h1>New Tutorial Upload</h1>
            <form class="form-signin" name="uploadForm" data-ng-submit="create()">
                <div>
                    <div>
                        <input type="file" accept="application/x-tar, application/x-gzip" data-ngf-select data-ng-model="zipfile"
                            name="file" data-ngf-model-invalid="errorFile" ng-disabled="zipfile.progress >= 0" required>
                    </div>
                </div>
                <span class="progress" data-ng-show="zipfile.progress >= 0">
                    <div style="width:{{zipfile.progress}}%" data-ng-bind="zipfile.progress + '%'"></div>
                </span>
                <div>
                    <label for="title" class="sr-only">Title</label>
                    <div>
                        <input type="text" data-ng-model="title" id="title" placeholder="Title" ng-disabled="zipfile.progress >= 0"
                            required autofocus class="form-control">
                    </div>
                </div>
                <div>
                    <button type="submit" class="btn btn-lg btn-primary btn-block" ng-disabled="zipfile.progress >= 0">Submit</button>
                </div>
                <span class="err" data-ng-show="errorMsg">{{errorMsg}}</span>
            </form>
        </div>
    </section>

    <!-- About Section -->
    <section id="about">
        <div class="container">
            <div class="row">
                <div class="col-lg-10 col-lg-offset-1">
                    <p class="text-center">Copyright (c) 2018 Sumandeep Banerjee</p>
                </div>
            </div>
        </div>
    </section>
</div>